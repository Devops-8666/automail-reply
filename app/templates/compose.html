{% extends "base.html" %}
{% block title %}Compose Email{% endblock %}
{% block content %}

<h2>ğŸ“ Compose Email with AI</h2>

<form method="POST" action="/compose" class="mb-4">
  <div class="mb-3">
    <label for="prompt" class="form-label">What do you want to say?</label>
    <textarea name="prompt" rows="3" class="form-control" placeholder="e.g. Resignation email, project update..." required></textarea>
  </div>
  <button type="submit" class="btn btn-primary">ğŸ”® Generate with AI</button>
</form>

{% if ai_email %}
  <hr>
  <form method="POST" action="/send_composed_email" enctype="multipart/form-data">
    <div class="mb-3">
      <label>To:</label>
      <input type="email" name="to_email" class="form-control" required>
    </div>

    <div class="mb-3">
      <label>Subject:</label>
      <input type="text" name="subject" class="form-control" required>
    </div>

    <div class="mb-3">
      <label>Email Body:</label>
      <textarea name="email_content" rows="10" class="form-control">{{ ai_email }}</textarea>
    </div>

    <div class="mb-3">
      <label>Attachments (Max 5MB each):</label>
      <input type="file" name="attachments" class="form-control" multiple>
    </div>

    <button type="submit" class="btn btn-success">ğŸ“¤ Send Email</button>
  </form>
{% endif %}

{% endblock %}

